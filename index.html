<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EvoluSer - Presentación Interactiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800;900&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brandBlue: '#005691',
                        brandBlueLight: '#007ccb',
                        brandGreen: '#7AB800',
                        brandGreenLight: '#9bd81a',
                        brandDark: '#111827',
                        brandAmber: '#d97706',
                    },
                    fontFamily: {
                        heading: ['Montserrat', 'sans-serif'],
                        body: ['Open Sans', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'glow-entrance': 'glowEntrance 1.5s ease-out forwards',
                        'shimmer-text': 'shimmer 3s infinite linear',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        glowEntrance: {
                            '0%': { opacity: 0, transform: 'scale(0.8) translateY(20px)', filter: 'brightness(0.5) blur(5px)' },
                            '50%': { opacity: 1, filter: 'brightness(1.5) blur(0px)' },
                            '100%': { opacity: 1, transform: 'scale(1) translateY(0)', filter: 'brightness(1)' },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% center' },
                            '100%': { backgroundPosition: '200% center' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { 
            font-family: 'Open Sans', sans-serif; 
            background-color: #0f172a; 
            overflow-x: hidden; 
            cursor: none; 
        }
        
        @media (hover: none) {
            body { cursor: auto; }
            #custom-cursor { display: none; }
        }

        #particles-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }
        
        .glass-card { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(16px); 
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.5); 
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1); 
        }
        
        /* Logo Card con efecto de luz */
        .logo-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1rem;
            box-shadow: 0 0 60px -5px rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.8);
            display: inline-block;
            padding: 1.5rem;
            min-width: 250px;
            position: relative;
            z-index: 10;
        }
        
        /* Destello tras el logo */
        .logo-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140%;
            height: 140%;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0) 70%);
            z-index: -1;
            filter: blur(25px);
            animation: pulse-slow 3s infinite;
        }

        .stagger-1 { animation: slideIn 0.6s ease-out both; animation-delay: 0.1s; }
        .stagger-2 { animation: slideIn 0.6s ease-out both; animation-delay: 0.2s; }
        .stagger-3 { animation: slideIn 0.6s ease-out both; animation-delay: 0.3s; }
        .stagger-4 { animation: slideIn 0.6s ease-out both; animation-delay: 0.4s; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* Custom Cursor */
        #custom-cursor {
            position: fixed;
            top: 0; left: 0; width: 30px; height: 30px;
            pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%);
            transition: transform 0.05s ease-out; 
            display: flex; align-items: center; justify-content: center;
        }
        
        #custom-cursor::before {
            content: '';
            position: absolute;
            width: 40px; height: 40px;
            background: radial-gradient(circle, rgba(122,184,0,0.4) 0%, transparent 70%);
            border-radius: 50%;
            z-index: -1;
        }

        a:hover ~ #custom-cursor, button:hover ~ #custom-cursor, .cursor-pointer:hover ~ #custom-cursor {
            transform: translate(-50%, -50%) scale(1.5);
        }

        /* Texto Animado Shimmer */
        .shimmer-text-effect {
            background: linear-gradient(to right, #94a3b8 20%, #ffffff 40%, #ffffff 60%, #94a3b8 80%);
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 3s linear infinite;
        }

        /* Modal Styles */
        #service-modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        #service-modal.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
        }
        #service-modal.flex {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }
        
        .interactive-card {
            transition: all 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255, 1);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        /* --- ANIMACIÓN DE GIRO PARA ICONOS --- */
        /* Aplica a los iconos dentro de los contenedores específicos (w-12 y w-14) al hacer hover en el grupo */
        .group:hover .w-12 i, 
        .group:hover .w-14 i {
            transform: rotate(360deg);
            transition: transform 0.6s ease-in-out;
        }
        /* Estado inicial para asegurar transición suave de regreso */
        .w-12 i, .w-14 i {
            transition: transform 0.6s ease-in-out;
        }
    </style>
</head>
<body class="text-gray-700 antialiased min-h-screen flex flex-col relative" id="document-body">
    <div id="custom-cursor">
        <i class="fas fa-leaf text-brandGreen text-opacity-90 text-xl transform -rotate-45 drop-shadow-md"></i>
    </div>

    <!-- Fondo de Partículas -->
    <canvas id="particles-canvas"></canvas>

    <!-- Header Section -->
    <header class="pt-16 pb-32 relative overflow-hidden z-10">
        <!-- Luces ambientales de fondo -->
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-brandBlue rounded-full mix-blend-screen filter blur-[120px] opacity-30 animate-pulse-slow pointer-events-none"></div>
        <div class="absolute top-20 right-1/4 w-80 h-80 bg-brandGreen rounded-full mix-blend-screen filter blur-[120px] opacity-20 animate-pulse-slow pointer-events-none" style="animation-delay: 1s;"></div>
        
        <div class="container mx-auto px-6 text-center relative z-20">
            <div class="mb-12 relative inline-block">
                <div class="logo-glow"></div>
                <div class="logo-card animate-glow-entrance cursor-none">
                    <div class="flex flex-col items-center justify-center">
                        <img src="logo.png" alt="EvoluSer Logo" class="h-auto object-contain" style="max-height: 130px; max-width: 100%;">
                    </div>
                </div>
            </div>

            <h1 class="text-5xl md:text-7xl font-extrabold mb-4 tracking-tight drop-shadow-2xl text-white bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400">
                Evolución Integral
            </h1>
            <div class="h-1.5 w-32 bg-gradient-to-r from-brandBlue to-brandGreen mx-auto rounded-full mb-6 shadow-[0_0_20px_rgba(122,184,0,0.6)]"></div>
            
            <!-- Slogan Animado -->
            <p class="text-xl md:text-2xl font-light tracking-[0.2em] uppercase shimmer-text-effect font-heading font-semibold">
                Potenciar el ser, proteger la vida
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 -mt-20 relative z-30 mb-12 flex-grow">
        <!-- Navegación -->
        <div class="glass-card rounded-full shadow-2xl p-2 flex justify-center max-w-lg mx-auto mb-10 transform transition-all hover:scale-[1.01] relative z-50">
            <button onclick="switchTab('carta')" id="btn-carta" class="flex-1 py-3 px-6 rounded-full text-sm font-bold uppercase tracking-wider transition-all duration-500 bg-brandBlue text-white shadow-lg ring-4 ring-brandBlue/30 cursor-none">
                <i class="fas fa-file-alt mr-2"></i> Propuesta
            </button>
            <button onclick="switchTab('brochure')" id="btn-brochure" class="flex-1 py-3 px-6 rounded-full text-sm font-bold uppercase tracking-wider transition-all duration-500 text-gray-500 hover:bg-gray-100 hover:text-brandBlue cursor-none">
                <i class="fas fa-th-large mr-2"></i> Servicios
            </button>
        </div>

        <div class="glass-card rounded-3xl shadow-2xl p-8 md:p-14 min-h-[600px] relative overflow-hidden transition-all duration-500 z-40 bg-white/95" id="main-content-area">
            
            <!-- VISTA CARTA (PROPUESTA) -->
            <div id="view-carta" class="max-w-5xl mx-auto stagger-1">
                <div class="flex justify-between items-end border-b-2 border-gray-100 pb-6 mb-8">
                    <div><span class="bg-gradient-to-r from-brandBlue to-brandBlueLight text-white text-xs font-bold px-4 py-1.5 rounded-full uppercase tracking-wider shadow-md">Propuesta Corporativa</span></div>
                    <div class="text-right">
                        <p class="text-brandBlue font-bold text-sm">QUITO, ECUADOR</p>
                        <p class="text-gray-500 text-xs" id="currentDate"></p>
                    </div>
                </div>
                <div class="prose prose-lg text-gray-600 mx-auto leading-relaxed text-justify">
                    <h2 class="text-3xl font-heading font-bold text-gray-800 mb-2 text-left">Estimados Clientes,</h2>
                    <p class="text-xl text-brandBlue font-light mb-8 text-left">Presentamos una nueva forma de entender el crecimiento empresarial.</p>
                    <p class="mb-6">En un entorno empresarial cada vez más exigente, el crecimiento real solo ocurre cuando cuidamos lo más importante: <strong>las personas y el entorno que habitan</strong>.</p>
                    <p class="mb-6">Les presento a <strong>EvoluSer</strong>, no solo como proveedores, sino como sus aliados estratégicos. Entendemos que una empresa exitosa del siglo XXI debe cumplir cuatro requisitos innegociables: ser <span class="text-brandBlue font-semibold">Humana</span>, garantizar la <span class="text-gray-800 font-semibold">Seguridad y Salud Ocupacional</span>, ser <span class="text-brandGreen font-semibold">Sostenible</span> y <span class="text-brandAmber font-semibold">Productiva</span>.</p>
                    
                    <p class="text-sm text-gray-500 italic mt-8 mb-4 text-center">Haga clic en cada área para conocer a nuestros directores:</p>
                    
                    <!-- GRID INTERACTIVO EN CARTA FORMAL -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 my-6 not-prose">
                        <div class="interactive-card bg-white/80 p-4 rounded-xl border border-blue-100 cursor-pointer group" onclick="openModal('humano')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mb-3 group-hover:bg-brandBlue transition-colors">
                                    <i class="fas fa-users text-brandBlue text-xl group-hover:text-white transition-colors"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm">Humano</h4>
                                <p class="text-[10px] text-gray-500 uppercase tracking-wide">Talento</p>
                                <span class="text-[10px] text-brandBlue mt-2 opacity-0 group-hover:opacity-100 transition-opacity">Ver Director</span>
                            </div>
                        </div>
                        <div class="interactive-card bg-white/80 p-4 rounded-xl border border-gray-200 cursor-pointer group" onclick="openModal('seguro')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mb-3 group-hover:bg-gray-600 transition-colors">
                                    <i class="fas fa-shield-alt text-gray-600 text-xl group-hover:text-white transition-colors"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm">S.S.O.</h4>
                                <p class="text-[10px] text-gray-500 uppercase tracking-wide">Seguridad y Salud</p>
                                <span class="text-[10px] text-gray-600 mt-2 opacity-0 group-hover:opacity-100 transition-opacity">Ver Director</span>
                            </div>
                        </div>
                        <div class="interactive-card bg-white/80 p-4 rounded-xl border border-green-100 cursor-pointer group" onclick="openModal('sostenible')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-full bg-green-50 flex items-center justify-center mb-3 group-hover:bg-brandGreen transition-colors">
                                    <i class="fas fa-leaf text-brandGreen text-xl group-hover:text-white transition-colors"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm">Sostenible</h4>
                                <p class="text-[10px] text-gray-500 uppercase tracking-wide">Ambiente</p>
                                <span class="text-[10px] text-brandGreen mt-2 opacity-0 group-hover:opacity-100 transition-opacity">Ver Director</span>
                            </div>
                        </div>
                        <div class="interactive-card bg-white/80 p-4 rounded-xl border border-amber-100 cursor-pointer group" onclick="openModal('agro')">
                            <div class="flex flex-col items-center text-center">
                                <div class="w-12 h-12 rounded-full bg-amber-50 flex items-center justify-center mb-3 group-hover:bg-amber-600 transition-colors">
                                    <i class="fas fa-tractor text-amber-600 text-xl group-hover:text-white transition-colors"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm">Agroindustrial</h4>
                                <p class="text-[10px] text-gray-500 uppercase tracking-wide">Calidad</p>
                                <span class="text-[10px] text-amber-600 mt-2 opacity-0 group-hover:opacity-100 transition-opacity">Ver Directora</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-12 flex items-center gap-5 border-t border-gray-100 pt-8 not-prose">
                        <div class="w-16 h-16 bg-gradient-to-br from-brandBlue to-brandBlueLight rounded-full flex items-center justify-center text-white shadow-lg text-2xl"><i class="fas fa-pen-nib"></i></div>
                        <div>
                            <p class="font-heading font-bold text-xl text-gray-900">Equipo Directivo</p>
                            <p class="text-brandBlue font-semibold">EvoluSer Consultores</p>
                            <a href="mailto:evoluserec@gmail.com" class="text-sm text-gray-400 hover:text-brandBlue transition cursor-none">evoluserec@gmail.com</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VISTA BROCHURE (SERVICIOS) -->
            <div id="view-brochure" class="hidden">
                <div class="text-center mb-12 stagger-1">
                    <span class="text-brandGreen font-bold tracking-widest uppercase text-xs bg-green-50 px-3 py-1 rounded-full">Nuestro Portafolio</span>
                    <h2 class="text-4xl font-heading font-bold text-gray-800 mb-4 mt-4">Soluciones Integrales</h2>
                    <p class="text-lg text-gray-500 max-w-2xl mx-auto">Tecnología, normativa y humanidad unidas.</p>
                </div>

                <!-- Video Section (9:16) -->
                <div class="max-w-sm mx-auto mb-16 stagger-2 video-section">
                    <div class="bg-white p-2 rounded-2xl shadow-xl border border-gray-100 relative group">
                        <div class="absolute -inset-1 bg-gradient-to-r from-brandBlue to-brandGreen rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-1000"></div>
                        <div class="relative rounded-xl overflow-hidden bg-black flex justify-center">
                            <video controls class="w-full h-auto" style="aspect-ratio: 9/16; max-height: 600px; object-fit: contain;">
                                <source src="video1.mp4" type="video/mp4">
                                Tu navegador no soporta la etiqueta de video.
                            </video>
                        </div>
                    </div>
                    <p class="text-center text-xs text-gray-400 mt-3 italic">Descubre nuestra filosofía en acción</p>
                </div>

                <!-- GRID SERVICIOS -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 px-2">
                    
                    <!-- Card 1: Humano -->
                    <div class="stagger-1 h-full">
                        <div class="h-full" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.2">
                            <div class="bg-white/90 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all h-full border-t-4 border-brandBlue group flex flex-col">
                                <div class="w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center mb-6 text-brandBlue group-hover:bg-brandBlue group-hover:text-white transition-colors duration-300 shadow-sm"><i class="fas fa-users text-2xl"></i></div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">EvoluSer <span class="text-brandBlue">HUMANO</span></h3>
                                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-6">Gestión del Talento</p>
                                <ul class="space-y-3 text-sm text-gray-600 flex-grow">
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Reclutamiento</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Clima y Cultura</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Soft Skills</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Evaluaciones</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2: PREVENCIÓN (S.S.O.) -->
                    <div class="stagger-2 h-full">
                        <div class="h-full" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.2">
                            <div class="bg-white/90 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all h-full border-t-4 border-gray-600 group flex flex-col">
                                <div class="w-14 h-14 bg-gray-50 rounded-2xl flex items-center justify-center mb-6 text-gray-600 group-hover:bg-gray-600 group-hover:text-white transition-colors duration-300 shadow-sm"><i class="fas fa-shield-alt text-2xl"></i></div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">EvoluSer <span class="text-gray-600">S.S.O.</span></h3>
                                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-6">Seguridad y Salud Ocupacional</p>
                                <ul class="space-y-3 text-sm text-gray-600 flex-grow">
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Normativa ISO</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Auditorías</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Salud Ocupacional</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandGreen mt-1 mr-2 text-xs"></i> Capacitaciones</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Card 3: Sostenible -->
                    <div class="stagger-3 h-full">
                        <div class="h-full" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.2">
                            <div class="bg-white/90 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all h-full border-t-4 border-brandGreen group flex flex-col">
                                <div class="w-14 h-14 bg-green-50 rounded-2xl flex items-center justify-center mb-6 text-brandGreen group-hover:bg-brandGreen group-hover:text-white transition-colors duration-300 shadow-sm"><i class="fas fa-leaf text-2xl"></i></div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">EvoluSer <span class="text-brandGreen">SOSTENIBLE</span></h3>
                                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-6">Medio Ambiente</p>
                                <ul class="space-y-3 text-sm text-gray-600 flex-grow">
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Manejo Ambiental</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Certificaciones</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Eficiencia</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Cultura Verde</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Card 4: Agroindustrial -->
                    <div class="stagger-4 h-full">
                        <div class="h-full" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.2">
                            <div class="bg-white/90 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all h-full border-t-4 border-brandAmber group flex flex-col">
                                <div class="w-14 h-14 bg-amber-50 rounded-2xl flex items-center justify-center mb-6 text-amber-600 group-hover:bg-amber-600 group-hover:text-white transition-colors duration-300 shadow-sm"><i class="fas fa-tractor text-2xl"></i></div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">EvoluSer <span class="text-amber-600">AGRO</span></h3>
                                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-6">Agroindustrial</p>
                                <ul class="space-y-3 text-sm text-gray-600 flex-grow">
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Buenas Prácticas (BPA)</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Inocuidad Alimentaria</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Seguridad Maquinaria</li>
                                    <li class="flex items-start"><i class="fas fa-check text-brandBlue mt-1 mr-2 text-xs"></i> Optimización Procesos</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
                
                <div class="mt-16 text-center stagger-3 pb-4">
                    <a href="https://wa.me/593983900050" target="_blank" class="inline-flex items-center gap-3 bg-gradient-to-r from-brandGreen to-green-600 text-white font-bold py-4 px-10 rounded-full transition-all transform hover:scale-105 shadow-xl hover:shadow-green-500/30 group cursor-none">
                        <span>EVOLUCIONA contáctanos ahora!</span>
                        <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- MODAL DE DETALLE -->
    <div id="service-modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/70 backdrop-blur-sm p-4">
        <div class="bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative animate-float">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 z-10 bg-white rounded-full p-2 shadow-md transition cursor-none">
                <i class="fas fa-times text-xl"></i>
            </button>

            <div class="grid grid-cols-1 md:grid-cols-2">
                <div class="relative h-64 md:h-auto overflow-hidden bg-gray-100">
                    <img id="modal-image" src="" alt="Detalle Servicio" class="w-full h-full object-cover transition duration-700 hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6">
                        <div class="text-white">
                            <p class="text-sm font-bold uppercase tracking-wider opacity-80 mb-1" id="modal-subtitle">Departamento</p>
                            <h3 class="text-3xl font-heading font-bold" id="modal-title">Titulo</h3>
                        </div>
                    </div>
                </div>

                <div class="p-8 md:p-12 flex flex-col justify-center">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-16 h-16 rounded-full bg-gray-200 overflow-hidden border-2 border-brandBlue shadow-lg flex-shrink-0">
                            <!-- Si la imagen de perfil falla, se puede ver un icono -->
                            <div class="w-full h-full flex items-center justify-center bg-slate-100 text-slate-400">
                                <i class="fas fa-user text-2xl"></i>
                            </div>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-bold">Liderado por</p>
                            <h4 class="text-xl font-bold text-gray-800" id="modal-leader">Nombre Lider</h4>
                            <p class="text-brandBlue text-sm font-semibold" id="modal-role">Director de Área</p>
                        </div>
                    </div>

                    <div class="prose prose-sm text-gray-600 mb-8" id="modal-desc"></div>

                    <h5 class="font-bold text-gray-800 mb-3 text-sm uppercase tracking-wide border-b pb-2">Servicios Clave</h5>
                    <ul class="space-y-2 text-sm text-gray-600 mb-8" id="modal-list"></ul>

                    <button onclick="closeModal()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-xl transition cursor-none">
                        Cerrar Perfil
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-white/90 border-t border-gray-200 mt-auto backdrop-blur-sm relative z-30">
        <div class="container mx-auto px-6 py-10">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center text-center md:text-left">
                <div class="space-y-3">
                    <h5 class="font-bold text-gray-800 uppercase text-xs tracking-wider mb-4">Contacto Directo</h5>
                    <a href="tel:+593996408009" class="block text-gray-600 hover:text-brandBlue transition-colors cursor-none"><i class="fas fa-phone-alt w-6 text-brandGreen"></i> +593 99 640 8009</a>
                    <a href="https://wa.me/593983900050" class="block text-gray-600 hover:text-brandBlue transition-colors cursor-none"><i class="fab fa-whatsapp w-6 text-brandGreen"></i> +593 98 390 0050</a>
                    <a href="mailto:evoluserec@gmail.com" class="block text-gray-600 hover:text-brandBlue transition-colors cursor-none"><i class="fas fa-envelope w-6 text-brandGreen"></i> evoluserec@gmail.com</a>
                </div>
                <div class="text-center">
                   <p class="text-sm text-gray-400">© 2024 EvoluSer Consultores</p>
                   <p class="text-xs text-gray-300 mt-1">Quito, Ecuador</p>
                </div>
                <div class="text-center md:text-right"></div>
            </div>
        </div>
    </footer>

    <script>
        // Custom Cursor
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            const x = e.clientX; const y = e.clientY;
            cursor.style.transform = `translate(${x}px, ${y}px)`;
        });
        document.addEventListener('mouseenter', () => cursor.style.display = 'flex');
        document.addEventListener('mouseleave', () => cursor.style.display = 'none');

        // Partículas Interactivas (Luciérnagas que reaccionan al mouse)
        const canvas = document.getElementById('particles-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            const particleCount = 60;
            // Mouse position for interaction
            let mouse = { x: null, y: null, radius: 100 };

            window.addEventListener('mousemove', (event) => {
                mouse.x = event.x;
                mouse.y = event.y;
            });

            function resize() { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; }
            
            class Firefly {
                constructor() { this.reset(); }
                reset() {
                    this.x = Math.random() * width; 
                    this.y = Math.random() * height; 
                    this.vx = (Math.random() - 0.5) * 0.3; 
                    this.vy = (Math.random() - 0.5) * 0.3; 
                    this.size = Math.random() * 2.5; 
                    this.baseX = this.x;
                    this.baseY = this.y;
                    this.alpha = 0;
                    this.cycle = Math.random() * Math.PI * 2;
                    this.cycleSpeed = 0.02 + Math.random() * 0.03;
                }
                update() { 
                    // Movimiento natural
                    this.x += this.vx; this.y += this.vy; 
                    this.cycle += this.cycleSpeed;
                    this.alpha = 0.4 + Math.sin(this.cycle) * 0.4;

                    // Interacción con mouse (huida suave)
                    if(mouse.x != null) {
                        let dx = mouse.x - this.x;
                        let dy = mouse.y - this.y;
                        let distance = Math.sqrt(dx*dx + dy*dy);
                        if (distance < mouse.radius) {
                            const forceDirectionX = dx / distance;
                            const forceDirectionY = dy / distance;
                            const force = (mouse.radius - distance) / mouse.radius;
                            const directionX = forceDirectionX * force * 3; // Fuerza de empuje
                            const directionY = forceDirectionY * force * 3;
                            this.x -= directionX;
                            this.y -= directionY;
                        }
                    }

                    if (this.x < 0 || this.x > width || this.y < 0 || this.y > height) this.reset(); 
                }
                draw() { 
                    ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha * 0.5})`; 
                    ctx.beginPath(); 
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); 
                    ctx.fill(); 
                    ctx.shadowBlur = 8;
                    ctx.shadowColor = "white";
                }
            }
            
            function initParticles() { particles = []; for (let i = 0; i < particleCount; i++) { particles.push(new Firefly()); } }
            function animateParticles() { 
                ctx.clearRect(0, 0, width, height); 
                // Gradiente para profundidad
                let gradient = ctx.createLinearGradient(0, 0, 0, height);
                gradient.addColorStop(0, "rgba(15, 23, 42, 0.1)"); // Azul oscuro muy transparente
                gradient.addColorStop(1, "rgba(15, 23, 42, 0.4)");
                ctx.fillStyle = gradient;
                ctx.fillRect(0,0,width,height);

                particles.forEach(p => { p.update(); p.draw(); ctx.shadowBlur = 0; }); 
                requestAnimationFrame(animateParticles); 
            }
            window.addEventListener('resize', resize); resize(); initParticles(); animateParticles();
        }

        const dateEl = document.getElementById('currentDate');
        if (dateEl) { dateEl.textContent = new Date().toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' }); }
        
        let currentTab = 'carta';
        function triggerAnimationReset(element) { const animatedElements = element.querySelectorAll('.stagger-1, .stagger-2, .stagger-3, .stagger-4'); animatedElements.forEach(el => { el.style.animation = 'none'; el.offsetHeight; el.style.animation = null; }); }
        
        function switchTab(tabName) {
            currentTab = tabName;
            const cartaView = document.getElementById('view-carta');
            const brochureView = document.getElementById('view-brochure');
            const btnCarta = document.getElementById('btn-carta');
            const btnBrochure = document.getElementById('btn-brochure');
            if (tabName === 'carta') {
                cartaView.classList.remove('hidden'); brochureView.classList.add('hidden'); triggerAnimationReset(cartaView);
                btnCarta.classList.add('bg-brandBlue', 'text-white', 'shadow-lg', 'ring-4', 'ring-brandBlue/30'); btnCarta.classList.remove('text-gray-500', 'hover:bg-gray-100');
                btnBrochure.classList.remove('bg-brandBlue', 'text-white', 'shadow-lg', 'ring-4', 'ring-brandBlue/30'); btnBrochure.classList.add('text-gray-500', 'hover:bg-gray-100');
            } else {
                cartaView.classList.add('hidden'); brochureView.classList.remove('hidden'); triggerAnimationReset(brochureView);
                btnBrochure.classList.add('bg-brandBlue', 'text-white', 'shadow-lg', 'ring-4', 'ring-brandBlue/30'); btnBrochure.classList.remove('text-gray-500', 'hover:bg-gray-100');
                btnCarta.classList.remove('bg-brandBlue', 'text-white', 'shadow-lg', 'ring-4', 'ring-brandBlue/30'); btnCarta.classList.add('text-gray-500', 'hover:bg-gray-100');
            }
        }
        if (typeof VanillaTilt !== 'undefined') { VanillaTilt.init(document.querySelectorAll("[data-tilt]"), { max: 15, speed: 400 }); }

        // --- LÓGICA DE MODALES (Datos Profesionales) ---
        const serviceData = {
            humano: {
                title: "EvoluSer HUMANO",
                subtitle: "Gestión del Talento",
                leader: "Nury Echeverria",
                role: "Directora de Talento Humano",
                image: "imagen2.jpg",
                desc: "Creemos que el activo más valioso es la gente. Bajo la dirección de Nury Echeverria, transformamos la cultura organizacional mediante estrategias de bienestar, desarrollo de habilidades blandas y diagnósticos precisos.",
                list: ["Reclutamiento y Selección", "Clima y Cultura", "Soft Skills y Liderazgo", "Evaluaciones de Desempeño"]
            },
            seguro: {
                title: "EvoluSer SEGURIDAD Y SALUD OCUPACIONAL",
                subtitle: "Gestión Integral de Riesgos",
                leader: "Christian Ortega",
                role: "Director Técnico SST",
                image: "imagen3.jpg",
                desc: "La seguridad no es negociable. Christian Ortega lidera un equipo enfocado en blindar tus operaciones, asegurando el cumplimiento normativo y protegiendo la vida de cada colaborador.",
                list: ["Sistemas de Gestión ISO 45001", "Auditorías de Riesgos", "Vigilancia de Salud", "Capacitación Técnica"]
            },
            sostenible: {
                title: "EvoluSer SOSTENIBLE",
                subtitle: "Medio Ambiente",
                leader: "Christian Ortega",
                role: "Director de Sostenibilidad",
                image: "imagen4.jpg",
                desc: "El futuro es verde. Christian Ortega integra la visión ambiental en tu estrategia de negocio, gestionando planes de manejo y certificaciones que te diferencian en el mercado.",
                list: ["Planes de Manejo Ambiental", "Certificaciones Verdes", "Eficiencia Energética", "Cultura Ambiental Corporativa"]
            },
            agro: {
                title: "EvoluSer AGRO",
                subtitle: "Agroindustrial",
                leader: "Lilian Eras",
                role: "Directora Agroindustrial",
                image: "imagen5.jpg",
                desc: "Calidad desde el origen. Lilian Eras aporta su vasta experiencia para optimizar procesos agroindustriales, garantizando inocuidad y cumplimiento de buenas prácticas.",
                list: ["Buenas Prácticas Agrícolas (BPA)", "Inocuidad Alimentaria", "Seguridad en Maquinaria", "Optimización de Procesos"]
            }
        };

        function openModal(type) {
            const data = serviceData[type];
            if(!data) return;

            document.getElementById('modal-image').src = data.image;
            document.getElementById('modal-image').onerror = function() { 
                this.src = 'https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=800&q=80'; 
            };
            
            document.getElementById('modal-title').innerText = data.title;
            // Color dinámico del título según el área
            const colorClass = type === 'humano' ? 'text-brandBlue' : type === 'seguro' ? 'text-gray-600' : type === 'sostenible' ? 'text-brandGreen' : 'text-brandAmber';
            document.getElementById('modal-title').className = `text-3xl font-heading font-bold ${colorClass}`;
            
            document.getElementById('modal-subtitle').innerText = data.subtitle;
            document.getElementById('modal-leader').innerText = data.leader;
            document.getElementById('modal-role').innerText = data.role;
            document.getElementById('modal-desc').innerText = data.desc;
            
            const listEl = document.getElementById('modal-list');
            listEl.innerHTML = '';
            data.list.forEach(item => {
                listEl.innerHTML += `<li class="flex items-center"><i class="fas fa-check-circle mr-2 ${colorClass}"></i> ${item}</li>`;
            });

            const modal = document.getElementById('service-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            const modal = document.getElementById('service-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        document.getElementById('service-modal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });
    </script>
</body>
</html>
